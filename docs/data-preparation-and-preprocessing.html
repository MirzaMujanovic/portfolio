<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>8 Data preparation and preprocessing | main.utf8</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="8 Data preparation and preprocessing | main.utf8" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="8 Data preparation and preprocessing | main.utf8" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-collection.html"/>
<link rel="next" href="building-a-model.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"><B>Mirza Mujanovic Portfolio</B></a></li>

<li class="divider"></li>
<li class="part"><span><b>I About me</b></span></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Who I am?</a></li>
<li class="part"><span><b>II My work</b></span></li>
<li class="chapter" data-level="1" data-path="emotions-in-online-customer-reviews.html"><a href="emotions-in-online-customer-reviews.html"><i class="fa fa-check"></i><b>1</b> Emotions In Online Customer Reviews</a><ul>
<li class="chapter" data-level="" data-path="emotions-in-online-customer-reviews.html"><a href="emotions-in-online-customer-reviews.html#what-to-expect-in-this-article"><i class="fa fa-check"></i>What to expect in this article?</a></li>
<li class="chapter" data-level="1.1" data-path="emotions-in-online-customer-reviews.html"><a href="emotions-in-online-customer-reviews.html#dictionaries-for-nlp"><i class="fa fa-check"></i><b>1.1</b> Dictionaries for NLP</a></li>
<li class="chapter" data-level="1.2" data-path="emotions-in-online-customer-reviews.html"><a href="emotions-in-online-customer-reviews.html#data-set"><i class="fa fa-check"></i><b>1.2</b> Data set</a></li>
<li class="chapter" data-level="1.3" data-path="emotions-in-online-customer-reviews.html"><a href="emotions-in-online-customer-reviews.html#corpus-cleaning"><i class="fa fa-check"></i><b>1.3</b> Corpus cleaning</a></li>
<li class="chapter" data-level="1.4" data-path="emotions-in-online-customer-reviews.html"><a href="emotions-in-online-customer-reviews.html#visualisations-of-terms-frequency"><i class="fa fa-check"></i><b>1.4</b> Visualisations of terms frequency</a><ul>
<li class="chapter" data-level="1.4.1" data-path="emotions-in-online-customer-reviews.html"><a href="emotions-in-online-customer-reviews.html#bar-charts-with-the-most-frequent-terms"><i class="fa fa-check"></i><b>1.4.1</b> Bar charts with the most frequent terms</a></li>
<li class="chapter" data-level="1.4.2" data-path="emotions-in-online-customer-reviews.html"><a href="emotions-in-online-customer-reviews.html#wordcloud-with-the-most-frequent-terms"><i class="fa fa-check"></i><b>1.4.2</b> Wordcloud with the most frequent terms</a></li>
<li class="chapter" data-level="1.4.3" data-path="emotions-in-online-customer-reviews.html"><a href="emotions-in-online-customer-reviews.html#the-most-frequent-terms-indicating-emotions"><i class="fa fa-check"></i><b>1.4.3</b> The most frequent terms indicating emotions</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="emotions-in-online-customer-reviews.html"><a href="emotions-in-online-customer-reviews.html#sentiment-analysis"><i class="fa fa-check"></i><b>1.5</b> Sentiment analysis</a><ul>
<li class="chapter" data-level="1.5.1" data-path="emotions-in-online-customer-reviews.html"><a href="emotions-in-online-customer-reviews.html#polarity-timeline"><i class="fa fa-check"></i><b>1.5.1</b> Polarity timeline</a></li>
<li class="chapter" data-level="1.5.2" data-path="emotions-in-online-customer-reviews.html"><a href="emotions-in-online-customer-reviews.html#analysis-on-sentence-level"><i class="fa fa-check"></i><b>1.5.2</b> Analysis on sentence-level</a></li>
<li class="chapter" data-level="1.5.3" data-path="emotions-in-online-customer-reviews.html"><a href="emotions-in-online-customer-reviews.html#what-are-the-most-emotional-reviews"><i class="fa fa-check"></i><b>1.5.3</b> What are the most emotional reviews?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html"><i class="fa fa-check"></i><b>2</b> Twitter Analysis for CO2mustGo initiative</a><ul>
<li class="chapter" data-level="" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#what-is-co2mustgo"><i class="fa fa-check"></i>What is CO2mustGO?</a></li>
<li class="chapter" data-level="2.1" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#sankey-diagram-energy-production-capacity"><i class="fa fa-check"></i><b>2.1</b> Sankey diagram: Energy production capacity</a></li>
<li class="chapter" data-level="" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#twitter-data-analysis"><i class="fa fa-check"></i>Twitter data analysis</a><ul>
<li class="chapter" data-level="2.1.1" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#data"><i class="fa fa-check"></i><b>2.1.1</b> Data</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#text-cleaning-and-preprocessing"><i class="fa fa-check"></i><b>2.2</b> Text cleaning and preprocessing</a></li>
<li class="chapter" data-level="2.3" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#tweets-distribution"><i class="fa fa-check"></i><b>2.3</b> Tweets distribution</a></li>
<li class="chapter" data-level="2.4" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#word-frequency-in-tweets"><i class="fa fa-check"></i><b>2.4</b> Word Frequency in Tweets</a></li>
<li class="chapter" data-level="2.5" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#word-network-in-tweets"><i class="fa fa-check"></i><b>2.5</b> Word Network in Tweets</a></li>
<li class="chapter" data-level="2.6" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#wordcloud"><i class="fa fa-check"></i><b>2.6</b> Wordcloud</a></li>
<li class="chapter" data-level="2.7" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#word-associations"><i class="fa fa-check"></i><b>2.7</b> Word associations</a></li>
<li class="chapter" data-level="2.8" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#lda"><i class="fa fa-check"></i><b>2.8</b> LDA</a></li>
<li class="chapter" data-level="2.9" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#sentiment-analysis-1"><i class="fa fa-check"></i><b>2.9</b> Sentiment analysis</a></li>
<li class="chapter" data-level="2.10" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#visualize-the-emotions"><i class="fa fa-check"></i><b>2.10</b> Visualize the emotions</a></li>
<li class="chapter" data-level="2.11" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#top-retweeted-tweets"><i class="fa fa-check"></i><b>2.11</b> Top retweeted Tweets</a><ul>
<li class="chapter" data-level="" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#top-retweets-with-equal-or-more-than-60-mentions"><i class="fa fa-check"></i>Top retweets (with equal or more than 60 mentions)</a></li>
<li class="chapter" data-level="" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#interactive-graph-with-retweets-text"><i class="fa fa-check"></i>Interactive graph with retweetsâ€™ text</a></li>
</ul></li>
<li class="chapter" data-level="2.12" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#network-of-retweets"><i class="fa fa-check"></i><b>2.12</b> Network of retweets</a><ul>
<li class="chapter" data-level="2.12.1" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#where-do-people-tweet-the-most"><i class="fa fa-check"></i><b>2.12.1</b> Where do people tweet the most?</a></li>
<li class="chapter" data-level="2.12.2" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#who-are-the-users-who-retweet-the-most"><i class="fa fa-check"></i><b>2.12.2</b> Who are the users who retweet the most?</a></li>
<li class="chapter" data-level="2.12.3" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#who-are-the-most-retweeted-users"><i class="fa fa-check"></i><b>2.12.3</b> Who are the most retweeted users?</a></li>
<li class="chapter" data-level="2.12.4" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#who-are-users-important-for-connecting-with-others-in-network"><i class="fa fa-check"></i><b>2.12.4</b> Who are users important for connecting with others in network?</a></li>
<li class="chapter" data-level="2.12.5" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#clustering"><i class="fa fa-check"></i><b>2.12.5</b> Clustering</a></li>
<li class="chapter" data-level="2.12.6" data-path="twitter-analysis-for-co2mustgo-initiative.html"><a href="twitter-analysis-for-co2mustgo-initiative.html#community-detection"><i class="fa fa-check"></i><b>2.12.6</b> Community detection</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="text-analysis-of-novels.html"><a href="text-analysis-of-novels.html"><i class="fa fa-check"></i><b>3</b> Text Analysis of Novels</a><ul>
<li class="chapter" data-level="3.1" data-path="text-analysis-of-novels.html"><a href="text-analysis-of-novels.html#data-1"><i class="fa fa-check"></i><b>3.1</b> Data</a></li>
<li class="chapter" data-level="3.2" data-path="text-analysis-of-novels.html"><a href="text-analysis-of-novels.html#text-cleaning"><i class="fa fa-check"></i><b>3.2</b> Text cleaning</a></li>
<li class="chapter" data-level="3.3" data-path="text-analysis-of-novels.html"><a href="text-analysis-of-novels.html#awakening"><i class="fa fa-check"></i><b>3.3</b> Awakening</a></li>
<li class="chapter" data-level="3.4" data-path="text-analysis-of-novels.html"><a href="text-analysis-of-novels.html#commonality-cloud-and-comparison-cloud"><i class="fa fa-check"></i><b>3.4</b> Commonality cloud and Comparison cloud</a></li>
<li class="chapter" data-level="3.5" data-path="text-analysis-of-novels.html"><a href="text-analysis-of-novels.html#sentiment-timeline"><i class="fa fa-check"></i><b>3.5</b> Sentiment timeline</a></li>
<li class="chapter" data-level="3.6" data-path="text-analysis-of-novels.html"><a href="text-analysis-of-novels.html#topic-modelling-lda"><i class="fa fa-check"></i><b>3.6</b> Topic Modelling: LDA</a></li>
<li class="chapter" data-level="3.7" data-path="text-analysis-of-novels.html"><a href="text-analysis-of-novels.html#main-points-of-interpretation"><i class="fa fa-check"></i><b>3.7</b> Main points of interpretation</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="covid-19-dashboard-for-balkan-countries.html"><a href="covid-19-dashboard-for-balkan-countries.html"><i class="fa fa-check"></i><b>4</b> COVID 19 Dashboard for Balkan countries*</a><ul>
<li class="chapter" data-level="4.1" data-path="covid-19-dashboard-for-balkan-countries.html"><a href="covid-19-dashboard-for-balkan-countries.html#data-2"><i class="fa fa-check"></i><b>4.1</b> Data</a></li>
<li class="chapter" data-level="4.2" data-path="covid-19-dashboard-for-balkan-countries.html"><a href="covid-19-dashboard-for-balkan-countries.html#curve-of-confirmed-cases"><i class="fa fa-check"></i><b>4.2</b> Curve of confirmed cases</a></li>
<li class="chapter" data-level="4.3" data-path="covid-19-dashboard-for-balkan-countries.html"><a href="covid-19-dashboard-for-balkan-countries.html#total-cases-per-1-million-people"><i class="fa fa-check"></i><b>4.3</b> Total cases per 1 million people</a></li>
<li class="chapter" data-level="4.4" data-path="covid-19-dashboard-for-balkan-countries.html"><a href="covid-19-dashboard-for-balkan-countries.html#deaths-vs-recovered"><i class="fa fa-check"></i><b>4.4</b> Deaths vs Recovered</a></li>
<li class="chapter" data-level="4.5" data-path="covid-19-dashboard-for-balkan-countries.html"><a href="covid-19-dashboard-for-balkan-countries.html#active-cases-vs-new-cases"><i class="fa fa-check"></i><b>4.5</b> Active cases vs New cases</a></li>
<li class="chapter" data-level="4.6" data-path="covid-19-dashboard-for-balkan-countries.html"><a href="covid-19-dashboard-for-balkan-countries.html#hospitalization"><i class="fa fa-check"></i><b>4.6</b> Hospitalization</a><ul>
<li class="chapter" data-level="4.6.1" data-path="covid-19-dashboard-for-balkan-countries.html"><a href="covid-19-dashboard-for-balkan-countries.html#croatia"><i class="fa fa-check"></i><b>4.6.1</b> Croatia</a></li>
<li class="chapter" data-level="4.6.2" data-path="covid-19-dashboard-for-balkan-countries.html"><a href="covid-19-dashboard-for-balkan-countries.html#slovenia"><i class="fa fa-check"></i><b>4.6.2</b> Slovenia</a></li>
<li class="chapter" data-level="4.6.3" data-path="covid-19-dashboard-for-balkan-countries.html"><a href="covid-19-dashboard-for-balkan-countries.html#austria"><i class="fa fa-check"></i><b>4.6.3</b> Austria</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="churn-prediction-with-random-forest.html"><a href="churn-prediction-with-random-forest.html"><i class="fa fa-check"></i><b>5</b> Churn prediction with Random Forest</a><ul>
<li class="chapter" data-level="5.1" data-path="churn-prediction-with-random-forest.html"><a href="churn-prediction-with-random-forest.html#why-predicting-customer-churn"><i class="fa fa-check"></i><b>5.1</b> Why predicting customer churn?</a></li>
<li class="chapter" data-level="5.2" data-path="churn-prediction-with-random-forest.html"><a href="churn-prediction-with-random-forest.html#data-3"><i class="fa fa-check"></i><b>5.2</b> Data</a></li>
<li class="chapter" data-level="5.3" data-path="churn-prediction-with-random-forest.html"><a href="churn-prediction-with-random-forest.html#data-pre-processing"><i class="fa fa-check"></i><b>5.3</b> Data Pre-processing</a></li>
<li class="chapter" data-level="5.4" data-path="churn-prediction-with-random-forest.html"><a href="churn-prediction-with-random-forest.html#data-partition"><i class="fa fa-check"></i><b>5.4</b> Data partition</a></li>
<li class="chapter" data-level="5.5" data-path="churn-prediction-with-random-forest.html"><a href="churn-prediction-with-random-forest.html#random-forest-model"><i class="fa fa-check"></i><b>5.5</b> Random Forest model</a></li>
<li class="chapter" data-level="5.6" data-path="churn-prediction-with-random-forest.html"><a href="churn-prediction-with-random-forest.html#evaluating-model"><i class="fa fa-check"></i><b>5.6</b> Evaluating Model</a></li>
<li class="chapter" data-level="5.7" data-path="churn-prediction-with-random-forest.html"><a href="churn-prediction-with-random-forest.html#references"><i class="fa fa-check"></i><b>5.7</b> References</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="problem-formulation.html"><a href="problem-formulation.html"><i class="fa fa-check"></i><b>6</b> Problem formulation</a></li>
<li class="chapter" data-level="7" data-path="data-collection.html"><a href="data-collection.html"><i class="fa fa-check"></i><b>7</b> Data collection</a></li>
<li class="chapter" data-level="8" data-path="data-preparation-and-preprocessing.html"><a href="data-preparation-and-preprocessing.html"><i class="fa fa-check"></i><b>8</b> Data preparation and preprocessing</a><ul>
<li class="chapter" data-level="8.1" data-path="data-preparation-and-preprocessing.html"><a href="data-preparation-and-preprocessing.html#packages"><i class="fa fa-check"></i><b>8.1</b> Packages</a></li>
<li class="chapter" data-level="8.2" data-path="data-preparation-and-preprocessing.html"><a href="data-preparation-and-preprocessing.html#data-loading-and-inspecting"><i class="fa fa-check"></i><b>8.2</b> Data loading and inspecting</a></li>
<li class="chapter" data-level="8.3" data-path="data-preparation-and-preprocessing.html"><a href="data-preparation-and-preprocessing.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>8.3</b> Exploratory data analysis</a><ul>
<li class="chapter" data-level="8.3.1" data-path="data-preparation-and-preprocessing.html"><a href="data-preparation-and-preprocessing.html#how-many-unique-products-are-reviewed"><i class="fa fa-check"></i><b>8.3.1</b> How many unique products are reviewed?</a></li>
<li class="chapter" data-level="8.3.2" data-path="data-preparation-and-preprocessing.html"><a href="data-preparation-and-preprocessing.html#how-many-reviewers-do-we-have"><i class="fa fa-check"></i><b>8.3.2</b> How many reviewers do we have?</a></li>
<li class="chapter" data-level="8.3.3" data-path="data-preparation-and-preprocessing.html"><a href="data-preparation-and-preprocessing.html#how-many-scores-do-we-have"><i class="fa fa-check"></i><b>8.3.3</b> How many scores do we have?</a></li>
<li class="chapter" data-level="8.3.4" data-path="data-preparation-and-preprocessing.html"><a href="data-preparation-and-preprocessing.html#what-is-the-distribution-of-ratings"><i class="fa fa-check"></i><b>8.3.4</b> What is the distribution of ratings?</a></li>
<li class="chapter" data-level="8.3.5" data-path="data-preparation-and-preprocessing.html"><a href="data-preparation-and-preprocessing.html#what-is-the-average-number-of-reviews-per-user"><i class="fa fa-check"></i><b>8.3.5</b> What is the average number of reviews per user?</a></li>
<li class="chapter" data-level="8.3.6" data-path="data-preparation-and-preprocessing.html"><a href="data-preparation-and-preprocessing.html#what-is-the-average-score-per-user"><i class="fa fa-check"></i><b>8.3.6</b> What is the average score per user?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="building-a-model.html"><a href="building-a-model.html"><i class="fa fa-check"></i><b>9</b> Building a model</a><ul>
<li class="chapter" data-level="9.1" data-path="building-a-model.html"><a href="building-a-model.html#final-data-outlook"><i class="fa fa-check"></i><b>9.1</b> Final data outlook</a></li>
<li class="chapter" data-level="9.2" data-path="building-a-model.html"><a href="building-a-model.html#subsetting-data"><i class="fa fa-check"></i><b>9.2</b> Subsetting data</a></li>
<li class="chapter" data-level="9.3" data-path="building-a-model.html"><a href="building-a-model.html#formatting-data"><i class="fa fa-check"></i><b>9.3</b> Formatting data</a></li>
<li class="chapter" data-level="9.4" data-path="building-a-model.html"><a href="building-a-model.html#inspecting-rating-matrix"><i class="fa fa-check"></i><b>9.4</b> Inspecting rating matrix</a></li>
<li class="chapter" data-level="9.5" data-path="building-a-model.html"><a href="building-a-model.html#building-a-recommender"><i class="fa fa-check"></i><b>9.5</b> Building a recommender</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="interpretation-and-managerial-implications.html"><a href="interpretation-and-managerial-implications.html"><i class="fa fa-check"></i><b>10</b> Interpretation and managerial implications</a><ul>
<li class="chapter" data-level="10.1" data-path="interpretation-and-managerial-implications.html"><a href="interpretation-and-managerial-implications.html#identification-of-the-recommended-products"><i class="fa fa-check"></i><b>10.1</b> Identification of the recommended products</a></li>
<li class="chapter" data-level="10.2" data-path="interpretation-and-managerial-implications.html"><a href="interpretation-and-managerial-implications.html#implications"><i class="fa fa-check"></i><b>10.2</b> Implications</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="bonus-analysis-text-mining.html"><a href="bonus-analysis-text-mining.html"><i class="fa fa-check"></i><b>11</b> Bonus analysis: Text Mining</a><ul>
<li class="chapter" data-level="11.1" data-path="bonus-analysis-text-mining.html"><a href="bonus-analysis-text-mining.html#wordcloud-1"><i class="fa fa-check"></i><b>11.1</b> Wordcloud</a></li>
<li class="chapter" data-level="11.2" data-path="bonus-analysis-text-mining.html"><a href="bonus-analysis-text-mining.html#comparison-cloud"><i class="fa fa-check"></i><b>11.2</b> Comparison cloud</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="future-work.html"><a href="future-work.html"><i class="fa fa-check"></i><b>12</b> Future work</a></li>
<li class="chapter" data-level="13" data-path="limitations.html"><a href="limitations.html"><i class="fa fa-check"></i><b>13</b> Limitations</a></li>
<li class="divider"></li>
<li><a href="https://at.linkedin.com/in/mirzamujanovic?trk=profile-badge" target="blank">LinkedIn: Mirza Mujanovic</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-preparation-and-preprocessing" class="section level1">
<h1><span class="header-section-number">8</span> Data preparation and preprocessing</h1>
<div id="packages" class="section level2">
<h2><span class="header-section-number">8.1</span> Packages</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="data-preparation-and-preprocessing.html#cb1-1"></a><span class="co">#Packages</span></span>
<span id="cb1-2"><a href="data-preparation-and-preprocessing.html#cb1-2"></a><span class="kw">library</span>(R.utils)</span>
<span id="cb1-3"><a href="data-preparation-and-preprocessing.html#cb1-3"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb1-4"><a href="data-preparation-and-preprocessing.html#cb1-4"></a><span class="kw">library</span>(tidyr)</span>
<span id="cb1-5"><a href="data-preparation-and-preprocessing.html#cb1-5"></a><span class="kw">library</span>(janitor)</span>
<span id="cb1-6"><a href="data-preparation-and-preprocessing.html#cb1-6"></a><span class="kw">library</span>(recommenderlab)</span>
<span id="cb1-7"><a href="data-preparation-and-preprocessing.html#cb1-7"></a><span class="kw">library</span>(tm)</span>
<span id="cb1-8"><a href="data-preparation-and-preprocessing.html#cb1-8"></a><span class="kw">library</span>(NLP)</span>
<span id="cb1-9"><a href="data-preparation-and-preprocessing.html#cb1-9"></a><span class="kw">library</span>(qdap)</span>
<span id="cb1-10"><a href="data-preparation-and-preprocessing.html#cb1-10"></a><span class="kw">library</span>(readr)</span>
<span id="cb1-11"><a href="data-preparation-and-preprocessing.html#cb1-11"></a><span class="kw">library</span>(wordcloud)</span></code></pre></div>
</div>
<div id="data-loading-and-inspecting" class="section level2">
<h2><span class="header-section-number">8.2</span> Data loading and inspecting</h2>
<p>After downloading data locally we load in data by using<code>readLines()</code> function:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="data-preparation-and-preprocessing.html#cb2-1"></a><span class="co"># Loading in data</span></span>
<span id="cb2-2"><a href="data-preparation-and-preprocessing.html#cb2-2"></a>my_data &lt;-<span class="st"> </span><span class="kw">readLines</span>(<span class="st">&quot;data/Beauty.txt&quot;</span>)</span></code></pre></div>
<p>Let us have a first at the dimension of our data:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="data-preparation-and-preprocessing.html#cb3-1"></a><span class="kw">length</span>(my_data)</span></code></pre></div>
<pre><code>## [1] 116341</code></pre>
<p>Our data set is currently in a form of a vector with 116341 elements. Obviously, this is not the optimal form of the data we would like to work with. That is why we need to work around this data set to make it more conveniet for further analysis.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="data-preparation-and-preprocessing.html#cb5-1"></a><span class="kw">head</span>(my_data)</span></code></pre></div>
<pre><code>## [1] &quot;product/productId: B00064C0IU&quot;                                      
## [2] &quot;product/title: Oscar Eau de Toilette for Women by Oscar de La Renta&quot;
## [3] &quot;product/price: 24.19&quot;                                               
## [4] &quot;review/userId: A1FWT811DSZLC8&quot;                                      
## [5] &quot;review/profileName: Heidi M&quot;                                        
## [6] &quot;review/helpfulness: 0/0&quot;</code></pre>
<p>From the structure of our data set, we see that all values are stored in the first column. Thus, we would need to manipulate data in order to be able to process it further.</p>
<p>What we can already do is to remove all fields with no characters:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="data-preparation-and-preprocessing.html#cb7-1"></a>my_data &lt;-<span class="st"> </span>my_data[<span class="kw">sapply</span>(my_data, nchar) <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>]</span></code></pre></div>
<p>Then we can convert it to data frame:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="data-preparation-and-preprocessing.html#cb8-1"></a>my_data &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(my_data)</span>
<span id="cb8-2"><a href="data-preparation-and-preprocessing.html#cb8-2"></a><span class="kw">colnames</span>(my_data) &lt;-<span class="st"> &quot;product&quot;</span></span></code></pre></div>
<p>One of the critical steps is separating the column to multiple columns:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="data-preparation-and-preprocessing.html#cb9-1"></a><span class="co"># Separate one column to two (&quot;:&quot; separator)</span></span>
<span id="cb9-2"><a href="data-preparation-and-preprocessing.html#cb9-2"></a>my_data &lt;-<span class="st"> </span><span class="kw">separate</span>(my_data,<span class="dt">col =</span> product, <span class="dt">into =</span> <span class="kw">c</span>(<span class="st">&quot;Info&quot;</span>,<span class="st">&quot;Product&quot;</span>), <span class="dt">sep =</span> <span class="st">&quot;:&quot;</span>)</span></code></pre></div>
<p>Inspecting first 10 values:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="data-preparation-and-preprocessing.html#cb10-1"></a><span class="kw">head</span>(my_data,<span class="dv">10</span>)</span></code></pre></div>
<pre><code>##                  Info
## 1   product/productId
## 2       product/title
## 3       product/price
## 4       review/userId
## 5  review/profileName
## 6  review/helpfulness
## 7        review/score
## 8         review/time
## 9      review/summary
## 10        review/text
##                                                                                                                         Product
## 1                                                                                                                    B00064C0IU
## 2                                                                          Oscar Eau de Toilette for Women by Oscar de La Renta
## 3                                                                                                                         24.19
## 4                                                                                                                A1FWT811DSZLC8
## 5                                                                                                                       Heidi M
## 6                                                                                                                           0/0
## 7                                                                                                                           3.0
## 8                                                                                                                    1360368000
## 9                                                                                                                  doesn&#39;t last
## 10  very light scent that doesn&#39;t last very long. pretty bottle but I was hoping for more of a freesia scent. which it was not.</code></pre>
<p>The data set is loaded in .txt format, and all values were stored in two columns, which makes it a bit challenging to work with. In the following sections we will undertake data manipulation in order to bring the data set in more suitable form.</p>
<p>First, we will convert it from the current long-format (105765, 2)to the wide-format, where each column will represent a product, and each row a feature:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="data-preparation-and-preprocessing.html#cb12-1"></a><span class="co">#Converting long format to wide</span></span>
<span id="cb12-2"><a href="data-preparation-and-preprocessing.html#cb12-2"></a>my_data &lt;-<span class="st"> </span>my_data <span class="op">%&gt;%</span></span>
<span id="cb12-3"><a href="data-preparation-and-preprocessing.html#cb12-3"></a><span class="st">  </span><span class="kw">group_by</span>(Info) <span class="op">%&gt;%</span></span>
<span id="cb12-4"><a href="data-preparation-and-preprocessing.html#cb12-4"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Order =</span> <span class="kw">seq_along</span>(Info)) <span class="op">%&gt;%</span></span>
<span id="cb12-5"><a href="data-preparation-and-preprocessing.html#cb12-5"></a><span class="st">  </span><span class="kw">spread</span>(<span class="dt">key =</span> Order, <span class="dt">value =</span> Product)</span>
<span id="cb12-6"><a href="data-preparation-and-preprocessing.html#cb12-6"></a><span class="kw">head</span>(my_data)</span></code></pre></div>
<pre><code>## Warning: `...` is not empty.
## 
## We detected these problematic arguments:
## * `needs_dots`
## 
## These dots only exist to allow future extensions and should be empty.
## Did you misspecify an argument?</code></pre>
<pre><code>## # A tibble: 6 x 10,578
## # Groups:   Info [6]
##   Info   `1`   `2`   `3`   `4`   `5`   `6`   `7`   `8`   `9`   `10`  `11`  `12` 
##   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;
## 1 produ~ &quot; 24~ &quot; 24~ &quot; 24~ &quot; 24~ &quot; 5.~ &quot; 5.~ &quot; un~ &quot; un~ &quot; un~ &quot; un~ &quot; un~ &quot; un~
## 2 produ~ &quot; B0~ &quot; B0~ &quot; B0~ &quot; B0~ &quot; B0~ &quot; B0~ &quot; B0~ &quot; B0~ &quot; B0~ &quot; B0~ &quot; B0~ &quot; B0~
## 3 produ~ &quot; Os~ &quot; Os~ &quot; Os~ &quot; Os~ &quot; Op~ &quot; Op~ &quot; Ar~ &quot; Ar~ &quot; Ar~ &quot; Ar~ &quot; Ar~ &quot; Ar~
## 4 revie~ &quot; 0/~ &quot; 0/~ &quot; 0/~ &quot; 0/~ &quot; 1/~ &quot; 0/~ &quot; 0/~ &quot; 0/~ &quot; 0/~ &quot; 3/~ &quot; 2/~ &quot; 2/~
## 5 revie~ &quot; He~ &quot; Do~ &quot; M.~ &quot; Ki~ &quot; Pl~ &quot; LA~ &quot; JB~ &quot; K.~ &quot; Vi~ &quot; E.~ &quot; Br~ &quot; To~
## 6 revie~ &quot; 3.~ &quot; 5.~ &quot; 1.~ &quot; 5.~ &quot; 5.~ &quot; 5.~ &quot; 2.~ &quot; 5.~ &quot; 5.~ &quot; 5.~ &quot; 5.~ &quot; 5.~
## # ... with 10,565 more variables: `13` &lt;chr&gt;, `14` &lt;chr&gt;, `15` &lt;chr&gt;,
## #   `16` &lt;chr&gt;, `17` &lt;chr&gt;, `18` &lt;chr&gt;, `19` &lt;chr&gt;, `20` &lt;chr&gt;, `21` &lt;chr&gt;,
## #   `22` &lt;chr&gt;, `23` &lt;chr&gt;, `24` &lt;chr&gt;, `25` &lt;chr&gt;, `26` &lt;chr&gt;, `27` &lt;chr&gt;,
## #   `28` &lt;chr&gt;, `29` &lt;chr&gt;, `30` &lt;chr&gt;, `31` &lt;chr&gt;, `32` &lt;chr&gt;, `33` &lt;chr&gt;,
## #   `34` &lt;chr&gt;, `35` &lt;chr&gt;, `36` &lt;chr&gt;, `37` &lt;chr&gt;, `38` &lt;chr&gt;, `39` &lt;chr&gt;,
## #   `40` &lt;chr&gt;, `41` &lt;chr&gt;, `42` &lt;chr&gt;, `43` &lt;chr&gt;, `44` &lt;chr&gt;, `45` &lt;chr&gt;,
## #   `46` &lt;chr&gt;, `47` &lt;chr&gt;, `48` &lt;chr&gt;, `49` &lt;chr&gt;, `50` &lt;chr&gt;, `51` &lt;chr&gt;,
## #   `52` &lt;chr&gt;, `53` &lt;chr&gt;, `54` &lt;chr&gt;, `55` &lt;chr&gt;, `56` &lt;chr&gt;, `57` &lt;chr&gt;,
## #   `58` &lt;chr&gt;, `59` &lt;chr&gt;, `60` &lt;chr&gt;, `61` &lt;chr&gt;, `62` &lt;chr&gt;, `63` &lt;chr&gt;,
## #   `64` &lt;chr&gt;, `65` &lt;chr&gt;, `66` &lt;chr&gt;, `67` &lt;chr&gt;, `68` &lt;chr&gt;, `69` &lt;chr&gt;,
## #   `70` &lt;chr&gt;, `71` &lt;chr&gt;, `72` &lt;chr&gt;, `73` &lt;chr&gt;, `74` &lt;chr&gt;, `75` &lt;chr&gt;,
## #   `76` &lt;chr&gt;, `77` &lt;chr&gt;, `78` &lt;chr&gt;, `79` &lt;chr&gt;, `80` &lt;chr&gt;, `81` &lt;chr&gt;,
## #   `82` &lt;chr&gt;, `83` &lt;chr&gt;, `84` &lt;chr&gt;, `85` &lt;chr&gt;, `86` &lt;chr&gt;, `87` &lt;chr&gt;,
## #   `88` &lt;chr&gt;, `89` &lt;chr&gt;, `90` &lt;chr&gt;, `91` &lt;chr&gt;, `92` &lt;chr&gt;, `93` &lt;chr&gt;,
## #   `94` &lt;chr&gt;, `95` &lt;chr&gt;, `96` &lt;chr&gt;, `97` &lt;chr&gt;, `98` &lt;chr&gt;, `99` &lt;chr&gt;,
## #   `100` &lt;chr&gt;, `101` &lt;chr&gt;, `102` &lt;chr&gt;, `103` &lt;chr&gt;, `104` &lt;chr&gt;,
## #   `105` &lt;chr&gt;, `106` &lt;chr&gt;, `107` &lt;chr&gt;, `108` &lt;chr&gt;, `109` &lt;chr&gt;,
## #   `110` &lt;chr&gt;, `111` &lt;chr&gt;, `112` &lt;chr&gt;, ...</code></pre>
<p>Since the column names are labeled with numbers, we will apply first row as a label for the corresponding column name:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="data-preparation-and-preprocessing.html#cb15-1"></a>my_data &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(<span class="kw">t</span>(my_data))</span>
<span id="cb15-2"><a href="data-preparation-and-preprocessing.html#cb15-2"></a>my_data&lt;-my_data<span class="op">%&gt;%</span></span>
<span id="cb15-3"><a href="data-preparation-and-preprocessing.html#cb15-3"></a><span class="st">  </span><span class="kw">row_to_names</span>(<span class="dt">row_number =</span> <span class="dv">1</span>)</span></code></pre></div>
<p>Delete rows with at least 1 NAs:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="data-preparation-and-preprocessing.html#cb16-1"></a>my_data &lt;-<span class="st"> </span>my_data[<span class="kw">rowSums</span>(<span class="kw">is.na</span>(my_data))<span class="op">==</span><span class="dv">0</span>,]</span></code></pre></div>
<p>Trim white space at the beginning or ending the string:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="data-preparation-and-preprocessing.html#cb17-1"></a>my_data<span class="op">$</span><span class="st">`</span><span class="dt">review/userId</span><span class="st">`</span>&lt;-<span class="st"> </span><span class="kw">trimws</span>(my_data<span class="op">$</span><span class="st">`</span><span class="dt">review/userId</span><span class="st">`</span>)</span>
<span id="cb17-2"><a href="data-preparation-and-preprocessing.html#cb17-2"></a>my_data<span class="op">$</span><span class="st">`</span><span class="dt">product/productId</span><span class="st">`</span>&lt;-<span class="st"> </span><span class="kw">trimws</span>(my_data<span class="op">$</span><span class="st">`</span><span class="dt">product/productId</span><span class="st">`</span>)</span>
<span id="cb17-3"><a href="data-preparation-and-preprocessing.html#cb17-3"></a>my_data<span class="op">$</span><span class="st">`</span><span class="dt">product/price</span><span class="st">`</span>&lt;-<span class="st"> </span><span class="kw">trimws</span>(my_data<span class="op">$</span><span class="st">`</span><span class="dt">product/price</span><span class="st">`</span>)</span>
<span id="cb17-4"><a href="data-preparation-and-preprocessing.html#cb17-4"></a>my_data<span class="op">$</span><span class="st">`</span><span class="dt">product/title</span><span class="st">`</span>&lt;-<span class="st"> </span><span class="kw">trimws</span>(my_data<span class="op">$</span><span class="st">`</span><span class="dt">product/title</span><span class="st">`</span>)</span></code></pre></div>
<p>Filtering out reviews with unknown userID and productId:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="data-preparation-and-preprocessing.html#cb18-1"></a>my_data&lt;-<span class="kw">filter</span>(my_data,<span class="st">`</span><span class="dt">review/userId</span><span class="st">`</span><span class="op">!=</span><span class="st">&quot;unknown&quot;</span> <span class="op">&amp;</span><span class="st"> `</span><span class="dt">product/productId</span><span class="st">`</span><span class="op">!=</span><span class="st">&quot;unknown&quot;</span> <span class="op">&amp;</span><span class="st"> `</span><span class="dt">product/price</span><span class="st">`</span><span class="op">!=</span><span class="st">&quot;unknown&quot;</span>)</span></code></pre></div>
<p>Correcting column classes:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="data-preparation-and-preprocessing.html#cb19-1"></a>my_data<span class="op">$</span><span class="st">`</span><span class="dt">product/productId</span><span class="st">`</span> &lt;-<span class="st"> </span><span class="kw">as.factor</span>(my_data<span class="op">$</span><span class="st">`</span><span class="dt">product/productId</span><span class="st">`</span>)</span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="data-preparation-and-preprocessing.html#cb20-1"></a>my_data<span class="op">$</span><span class="st">`</span><span class="dt">review/score</span><span class="st">`</span>&lt;-<span class="st"> </span><span class="kw">as.numeric</span>(my_data<span class="op">$</span><span class="st">`</span><span class="dt">review/score</span><span class="st">`</span>)</span>
<span id="cb20-2"><a href="data-preparation-and-preprocessing.html#cb20-2"></a>my_data<span class="op">$</span><span class="st">`</span><span class="dt">review/userId</span><span class="st">`</span>&lt;-<span class="kw">as.factor</span>(my_data<span class="op">$</span><span class="st">`</span><span class="dt">review/userId</span><span class="st">`</span>)</span>
<span id="cb20-3"><a href="data-preparation-and-preprocessing.html#cb20-3"></a>my_data<span class="op">$</span><span class="st">`</span><span class="dt">product/price</span><span class="st">`</span>&lt;-<span class="kw">as.numeric</span>(my_data<span class="op">$</span><span class="st">`</span><span class="dt">product/price</span><span class="st">`</span>)</span></code></pre></div>
</div>
<div id="exploratory-data-analysis" class="section level2">
<h2><span class="header-section-number">8.3</span> Exploratory data analysis</h2>
<div id="how-many-unique-products-are-reviewed" class="section level3">
<h3><span class="header-section-number">8.3.1</span> How many unique products are reviewed?</h3>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="data-preparation-and-preprocessing.html#cb21-1"></a><span class="kw">length</span>(<span class="kw">unique</span>(my_data<span class="op">$</span><span class="st">`</span><span class="dt">product/productId</span><span class="st">`</span>))</span></code></pre></div>
<pre><code>## [1] 928</code></pre>
<p>There are 928 products which were reviewed.</p>
</div>
<div id="how-many-reviewers-do-we-have" class="section level3">
<h3><span class="header-section-number">8.3.2</span> How many reviewers do we have?</h3>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="data-preparation-and-preprocessing.html#cb23-1"></a><span class="kw">length</span>(<span class="kw">unique</span>(my_data<span class="op">$</span><span class="st">`</span><span class="dt">review/userId</span><span class="st">`</span>))</span></code></pre></div>
<pre><code>## [1] 8002</code></pre>
<p>There are 8002 unique reviewers/customers who reviewed products.</p>
</div>
<div id="how-many-scores-do-we-have" class="section level3">
<h3><span class="header-section-number">8.3.3</span> How many scores do we have?</h3>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="data-preparation-and-preprocessing.html#cb25-1"></a><span class="kw">length</span>(my_data<span class="op">$</span><span class="st">`</span><span class="dt">review/score</span><span class="st">`</span>)</span></code></pre></div>
<pre><code>## [1] 8581</code></pre>
<p>There are 8581 ratings.</p>
</div>
<div id="what-is-the-distribution-of-ratings" class="section level3">
<h3><span class="header-section-number">8.3.4</span> What is the distribution of ratings?</h3>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="data-preparation-and-preprocessing.html#cb27-1"></a><span class="kw">hist</span>(<span class="kw">as.numeric</span>(my_data<span class="op">$</span><span class="st">`</span><span class="dt">review/score</span><span class="st">`</span>),<span class="dt">main =</span> <span class="st">&quot;Histogramm of scores&quot;</span>,<span class="dt">xlab =</span> <span class="st">&quot;Score&quot;</span>)</span></code></pre></div>
<p><img src="main_files/figure-html/unnamed-chunk-19-1.png" width="672" />
Products seem to be favorably rated as the distribution of scores showes that the best score is the most frequent.</p>
</div>
<div id="what-is-the-average-number-of-reviews-per-user" class="section level3">
<h3><span class="header-section-number">8.3.5</span> What is the average number of reviews per user?</h3>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="data-preparation-and-preprocessing.html#cb28-1"></a>my_data <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb28-2"><a href="data-preparation-and-preprocessing.html#cb28-2"></a><span class="st">  </span><span class="kw">group_by</span>(<span class="st">`</span><span class="dt">review/userId</span><span class="st">`</span>) <span class="op">%&gt;%</span></span>
<span id="cb28-3"><a href="data-preparation-and-preprocessing.html#cb28-3"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">Freq=</span><span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb28-4"><a href="data-preparation-and-preprocessing.html#cb28-4"></a><span class="st">  </span><span class="kw">summary</span>()</span></code></pre></div>
<pre><code>##                review/userId       Freq       
##  A00275441WYR3489IKNAB:   1   Min.   : 1.000  
##  A0353671240B3B6L8WKZB:   1   1st Qu.: 1.000  
##  A0793784FP3F6ZXZDTN6 :   1   Median : 1.000  
##  A10013UITIMJVI       :   1   Mean   : 1.072  
##  A1008GFLTBL76H       :   1   3rd Qu.: 1.000  
##  A100VLYGYI6FXY       :   1   Max.   :37.000  
##  (Other)              :7996</code></pre>
<p>It seems that users from our data set on average left a review only once. This might be an issue, as we would not be able to find much similarity among users.</p>
</div>
<div id="what-is-the-average-score-per-user" class="section level3">
<h3><span class="header-section-number">8.3.6</span> What is the average score per user?</h3>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="data-preparation-and-preprocessing.html#cb30-1"></a>(grand.mean &lt;-my_data <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb30-2"><a href="data-preparation-and-preprocessing.html#cb30-2"></a><span class="st">  </span><span class="kw">group_by</span>(<span class="st">`</span><span class="dt">review/userId</span><span class="st">`</span>) <span class="op">%&gt;%</span></span>
<span id="cb30-3"><a href="data-preparation-and-preprocessing.html#cb30-3"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">summarise</span>(<span class="dt">Mean=</span><span class="kw">mean</span>(<span class="st">`</span><span class="dt">review/score</span><span class="st">`</span>)) <span class="op">%&gt;%</span></span>
<span id="cb30-4"><a href="data-preparation-and-preprocessing.html#cb30-4"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Grand.mean=</span><span class="kw">mean</span>(Mean))<span class="op">%&gt;%</span></span>
<span id="cb30-5"><a href="data-preparation-and-preprocessing.html#cb30-5"></a><span class="st">  </span><span class="kw">head</span>())</span></code></pre></div>
<pre><code>## # A tibble: 6 x 3
##   `review/userId`        Mean Grand.mean
##   &lt;fct&gt;                 &lt;dbl&gt;      &lt;dbl&gt;
## 1 A00275441WYR3489IKNAB     5       4.19
## 2 A0353671240B3B6L8WKZB     5       4.19
## 3 A0793784FP3F6ZXZDTN6      5       4.19
## 4 A10013UITIMJVI            5       4.19
## 5 A1008GFLTBL76H            5       4.19
## 6 A100VLYGYI6FXY            4       4.19</code></pre>
<p>It seems that beauty products on Amazon are well received by users as the average score per user is quite high, at 4.1940927.</p>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-collection.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="building-a-model.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/07-Recommendation_system.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["main.pdf", "main.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
